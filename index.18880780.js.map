{"mappings":"AAAO,MAAMA,EAAO,CAClBC,KAAMC,SAASC,cAAc,SAC7BC,OAAQF,SAASC,cAAc,WAC/BE,iBAAkBH,SAASI,iBAAiB,gBAC5CC,gBAAiBL,SAASI,iBAAiB,kBCetC,SAASE,EAAUC,GACxBA,EAAEC,iBAEFC,EADgBC,KAAKC,QAAQC,M,CAIxB,SAASC,EAAWN,IACrBA,EAAEO,OAAOC,UAAUC,SAAS,mBAAqBT,EAAEO,OAAOC,UAAUC,SAAS,mBAC/EC,IACAC,I,CAIG,SAAST,EAAcU,GAC5BF,IACKnB,EAAKC,KAAKgB,UAAUC,SAAS,aAoB7B,WACL,MAAMI,EAAiBC,OAAOC,WAAatB,SAASC,cAAc,QAAQsB,YAC1EzB,EAAKC,KAAKyB,MAAMC,aAAeL,EAAiB,I,CArB9CM,GACA5B,EAAKC,KAAKgB,UAAUY,IAAI,WAE1B3B,SAAS4B,eAAeT,GAAIJ,UAAUY,IAAI,U,CAGrC,SAASV,IACdnB,EAAKO,gBAAgBwB,SAAQjB,IACvBA,EAAMG,UAAUC,SAAS,aACV,YAAbJ,EAAMO,IACRW,YAAW,KACTlB,EAAMX,cAAc,oBAAoB8B,UAAY,EAAE,GACrD,KAELnB,EAAMG,UAAUiB,OAAO,W,IAUtB,SAASd,IACdY,YAAW,KACThC,EAAKC,KAAKyB,MAAMC,aAAe,MAC/B3B,EAAKC,KAAKgB,UAAUiB,OAAO,SAAS,GACnC,I,CA7DLX,OAAOY,iBAAiB,SAExB,SAAyB1B,GACT,WAAVA,EAAE2B,KAAoBpC,EAAKC,KAAKgB,UAAUC,SAAS,YACrDC,IACAC,I,IAIJpB,EAAKK,iBAAiB0B,SAAQM,IAC5BA,EAAQF,iBAAiB,QAAS3B,EAAU,IAG9CR,EAAKO,gBAAgBwB,SAAQjB,IAC3BA,EAAMqB,iBAAiB,QAASpB,EAAW","sources":["src/js/refs.js","src/js/popup.js"],"sourcesContent":["export const refs = {\n  body: document.querySelector('.body'),\n  header: document.querySelector('.header'),\n  openPopupButtons: document.querySelectorAll('[data-popup]'),\n  allCustomPopups: document.querySelectorAll('.custom-popup'),\n};\n","import { refs } from '../js/refs';\n\nwindow.addEventListener('keyup', closePopupByEsc);\n\nfunction closePopupByEsc(e) {\n  if (e.key === 'Escape' && refs.body.classList.contains('locked')) {\n    closeOllPopups();\n    scrollbarReset();\n  }\n}\n\nrefs.openPopupButtons.forEach(openBtn => {\n  openBtn.addEventListener('click', popupOpen);\n});\n\nrefs.allCustomPopups.forEach(popup => {\n  popup.addEventListener('click', popupClose);\n});\n\nexport function popupOpen(e) {\n  e.preventDefault();\n  const popupId = this.dataset.popup;\n  openPopupById(popupId);\n}\n\nexport function popupClose(e) {\n  if (e.target.classList.contains('js-popup-close') || e.target.classList.contains('custom-popup')) {\n    closeOllPopups();\n    scrollbarReset();\n  }\n}\n\nexport function openPopupById(id) {\n  closeOllPopups();\n  if (!refs.body.classList.contains('locked')) {\n    scrollbarModify();\n    refs.body.classList.add('locked');\n  }\n  document.getElementById(id).classList.add('is-open');\n}\n\nexport function closeOllPopups() {\n  refs.allCustomPopups.forEach(popup => {\n    if (popup.classList.contains('is-open')) {\n      if (popup.id === 'recepie') {\n        setTimeout(() => {\n          popup.querySelector('.js-backend-info').innerHTML = '';\n        }, 350);\n      }\n      popup.classList.remove('is-open');\n    }\n  });\n}\n\nexport function scrollbarModify() {\n  const scrollbarWidth = window.innerWidth - document.querySelector('main').offsetWidth;\n  refs.body.style.paddingRight = scrollbarWidth + 'px';\n}\n\nexport function scrollbarReset() {\n  setTimeout(() => {\n    refs.body.style.paddingRight = '0px';\n    refs.body.classList.remove('locked');\n  }, 400);\n}\n\nexport function alertError(title, subtitle) {\n  const errorTitle = document.querySelector('.js-error-title');\n  const errorSubtitle = document.querySelector('.js-error-text');\n  errorTitle.innerHTML = title;\n  errorSubtitle.innerHTML = subtitle;\n  openPopupById('error');\n}\n\nexport function alertInfo(title, subtitle) {\n  const infoTitle = document.querySelector('.js-info-title');\n  const infoSubtitle = document.querySelector('.js-info-subtitle');\n  infoTitle.innerHTML = title;\n  infoSubtitle.innerHTML = subtitle;\n  openPopupById('info');\n}\n"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","body","document","querySelector","header","openPopupButtons","querySelectorAll","allCustomPopups","$8eba2bb3fe686d91$export$10d7d627988df375","e","preventDefault","$8eba2bb3fe686d91$export$221ab4a7857abae","this","dataset","popup","$8eba2bb3fe686d91$export$812bd951034d0373","target","classList","contains","$8eba2bb3fe686d91$export$6c9120140ccfa80c","$8eba2bb3fe686d91$export$7feb3454ad4aedf3","id","scrollbarWidth","window","innerWidth","offsetWidth","style","paddingRight","$8eba2bb3fe686d91$export$349017d5d7e90498","add","getElementById","forEach","setTimeout","innerHTML","remove","addEventListener","key","openBtn"],"version":3,"file":"index.18880780.js.map"}